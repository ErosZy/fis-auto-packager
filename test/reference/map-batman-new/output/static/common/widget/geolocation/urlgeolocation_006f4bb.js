define("common:widget/geolocation/urlgeolocation.js",function(t,e,o){"use strict";var i=t("common:widget/stat/metrics-stat.js");o.exports={lochost:"http://map.baidu.com",init:function(){this._startGeo()},_startGeo:function(){var t=this,e=t.getContainLoc();e?t.getDetailLoc(e):listener.trigger("common.geomethod","fail",{})},getDetailLoc:function(t){var e=this,o=t||[],r=e.lochost+"/mobile/?qt=geo&x="+o[0]+"&y="+o[1]+"&type=url&callback=";return o[0]&&o[1]?(i.addStat("geo","url_geo_startget"),$.ajax({url:r,dataType:"jsonp",success:function(t){var e,o=t&&t.content,i=o&&o.address_detail,r=o&&o.point;return 0!=t.error||""==o.address?(listener.trigger("common.geomethod","fail",{}),void 0):(e={addr:{address:o.address||null,city:i.city||null,cityCode:i.city_code||1,district:i.district||null,street:i.street||null},point:{x:r.x||null,y:r.y||null},isGeoSuc:!0,isExactPoi:!0,type:"url",isSaveLocInCookie:!0,isUserDeny:!1},listener.trigger("common.geomethod","success",e),void 0)},error:function(){listener.trigger("common.geomethod","fail",{})}}),void 0):(listener.trigger("common.geomethod","fail",{}),void 0)},getContainLoc:function(){var t=decodeURI(window.location.href),e=t.indexOf("locMC="),o="",i="",r=[];return 0>e?void 0:(e+=6,o=t.substr(e,t.length),i=o.indexOf("|"),i>0?(r=[],r[0]=o.substr(0,i),r[1]=o.substr(i+1,o.length),r):void 0)}}});