define("common:widget/appresize/appresize.js",function(i,e,t){"use strict";var n=i("common:static/js/util.js");t.exports={init:function(){this.bind(),this.setMainHeight(),$(document.body).css("min-height",window.innerHeight)},bind:function(){listener.on("common","sizechange",$.proxy(this.update,this)),"undefined"!=typeof window.onorientationchange?(window.addEventListener("orientationchange",this.resize,!1),n.isAndroid()&&window.addEventListener("resize",this.resize,!1)):window.addEventListener("resize",this.resize,!1),listener.on("common.page","switchend",$.proxy(this.setMainHeight,this))},getAppHeight:function(){var i=window.innerHeight,e=$(".common-widget-header").height(),t=$(".index-widget-searchbox").height(),n=$(".index-widget-tabgroup").height(),o=$(".common-widget-nav").height(),h=$(".common-widget-footer").height(),s=$(".common-widget-bottom-banner").height(),g=i-(e+h+s),r=e+t+o+n,d=i-r;return{min:g,mapTop:r,mapHeight:d,header:e,footer:h,bottom:s}},setMainHeight:function(){var i=this.getAppHeight();$("#main").css({"min-height":i.min})},update:function(){var i=this.getAppHeight();$("#main").css({"min-height":i.min}),$(".common-widget-map").css({height:i.mapHeight,top:i.mapTop})},resize:function(i){function e(){setTimeout(function(){$(document.body).css("min-height",window.innerHeight)},1),listener.trigger("common","sizechange",{width:i.target.innerWidth,height:i.target.innerHeight,delay:!0})}var t=i.type,n={onorientationchange:function(){setTimeout(function(){e()},1e3)},resize:function(){e()}};t&&n[t]()}}});