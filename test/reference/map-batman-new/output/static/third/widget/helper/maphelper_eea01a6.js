define("third:widget/helper/maphelper.js",function(t,o,e){"use strict";var i=t("common:widget/map/map.js"),n=(t("common:static/js/mapconst.js"),t("common:widget/geolocation/location.js"),t("common:widget/url/url.js")),c=t("common:widget/popup/popup.js"),s=t("common:static/js/util.js");e.exports={init:function(){i.clearOverlays(),this._centerAndZoom()},_centerAndZoom:function(){var t=this.getCityPoint(),o=i.getMap(),e=this,c=n.get().pageState;o.enableLoadTiles=!0,o.centerAndZoom(t,12),listener.on("common.map","addlazycontrol",function(){c&&"on"===c.traffic&&(s.need2ShowTraffic(e.code)?i.trafficControl.show():(i.trafficControl.hide(),e._showTips()))})},getCityPoint:function(){var t,o=n.get().query,e=window._CURRENT_CITY;return o.city_x&&o.city_y?(this.code=o.code,t=[o.city_x,o.city_y]):1===e.code?(this.code=131,t=[12958160,4825907]):(this.code=e.code,t=this.getPoint(e)),new BMap.Point(t[0],t[1])},_showTips:function(){var t=i.getMap(),o=t.getZoom(),e=n.get().pageState.vt,s=window._APP_HASH;o>9&&("map"==e||/map/i.test(s.page))&&c.open({text:"当前城市暂无实时路况数据"})},getPoint:function(t){return t.geo?t.geo.split(";")[1].split("|")[0].split(","):[12958160,4825907]}}});