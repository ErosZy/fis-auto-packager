define("common:widget/header/header.js",function(t,n,o){var e=t("common:widget/stat/stat.js"),i=t("common:static/js/util.js"),a=(t("common:widget/appresize/appresize.js"),$("#header_install_button")),s=(i.isAndroid()?"android":i.isIPhone()?"iphone":i.isIPad()?"ipad":"unknown",function(){d(),r()}),d=function(){var t=this;i.isInstalledClient(function(n){a.attr("data",n).text("打开客户端"),i.bindHrefStat(a,function(){e.addStat(COM_STAT_CODE.HEADER_APP_OPEN,{os:t.os})})},function(n){a.attr("data",n).text("下载客户端"),i.bindHrefStat(a,function(){e.addStat(COM_STAT_CODE.HEADER_APP_DOWNLOAD,{os:t.os})})})},r=function(){var t=$(".index-widget-searchbox, .index-widget-tabgroup"),n=$(".common-widget-header"),o={},e={},i=function(t){var n,o=[],e=null,i=t.touches;if(i&&(n=i.length))for(var a=0;n>a;a++)e=i[a],o.push({x:e.pageX,y:e.pageY});return o},a=function(n){o=i(n),t.on("touchmove",s)},s=function(a){e=i(a);try{var d=Math.abs(o[0].y-e[0].y)}catch(r){d=0}d>5&&(t.off("touchmove",s),o[0].y<e[0].y?n.show():n.hide(),listener.trigger("common","sizechange"))};t.on("touchstart",a)};o.exports.init=function(){s()}});