define("place:widget/codes/codes.js",function(i,n,e){function o(){var i=$("body").width()-85;$(".movie_name").css("width",i),$("#back").click(function(){window.history.go(-1)})}function t(i){$(".list").click(function(){var n=this.id;location.href=u+"/mobile/webapp/place/detail/force=simple&qt=inf&uid="+n+"&c="+i.city_id+"/&code="+i.code+"&sign="+i.sign})}function c(){var i=document.getElementById("city");i.onchange=function(){var i=this.options[this.selectedIndex].value;f.city_id=i,r(f)}}function d(i){for(var n=document.getElementById("city"),e=0;e<n.length;e++)n.options[e].value==i&&(n.options[e].selected=!0)}function s(i){var n="";$.each(i.list,function(i,e){n+='<dl class="list list_boder" id="'+e.uid+'">',n+='<dt><span class="sn">'+(i+1)+'</span><span class="movie_name">'+e.name+"</span></dt>",n+='<dd><span class="addr">'+e.address+'</span></dd><dd class="trad"></dd></dl>'}),$("#list_info").html(n),m===!0&&(d(i.city_id),m=!1),t(i)}function a(i){var n=new RegExp("(^|&)"+i+"=([^&]*)(&|$)","i"),e=window.location.href.substr(1).match(n);return null!==e?decodeURIComponent(e[2]):null}function l(){var i={};return i.point_x=a("point_x"),i.point_y=a("point_y"),i.city_id=a("city_id"),i.city_id?$.param(i):""}function r(i){var n;n=i.city_id?u+"/mobile/webapp/place/codes/force=simple&qt=cinemas&code="+i.code+"&sign="+i.sign+"&city_id="+i.city_id:u+"/mobile/webapp/place/codes/force=simple&qt=cinemas&code="+i.code+"&sign="+i.sign+"&"+i.bound,$.ajax({url:n,type:"get",dataType:"json",crossDomain:!1,data:null,async:!0,error:function(){},success:function(i){0===i.errorNo?(s(i),$("#codes_box").removeClass("hide"),$("#over").addClass("hide")):($("#codes_box").addClass("hide"),$("#over").removeClass("hide"))}})}function p(i,n){o(),f.code=i,f.sign=n,f.bound=l(),c(),r(f)}var u="http://"+window.location.host,f={},m=!0;$(window).resize(function(){o()}),e.exports={initialize:p}});