define("taxi:widget/common/popup/popup.js",function(t,i,e){e.exports={_defaultOptions:{autoCloseTime:2e3,isTouchHide:!1},_$el:null,_autoCloseTimeout:null,_create:function(t){var i,e;t.layer&&(e=$("<div/>").addClass("taxi-widget-popup-layer").appendTo(document.body)),i=$("<div></div>").addClass("taxi-widget-popup").text(t.text||"").hide().appendTo(document.body),this._layout(i),this._$el=i,this._$layer=e},_layout:function(t){var i,e;"none"===t.css("display")&&(e=t.css("visibility"),t.css({visibility:"visibile"}).show()),i=t.offset(),t.css({left:(window.innerWidth-i.width-20)/2,top:(window.innerHeight-i.height)/2,visibility:e})},open:function(t){var i=this;t=this._options=$.extend({},this._defaultOptions,"string"==typeof t?{text:t}:t),this._$el?(this._$el.text(t.text),this._layout(this._$el)):this._create(t),this._$el.show(),t.autoCloseTime&&(clearTimeout(this._autoCloseTimeout),this._autoCloseTimeout=setTimeout($.proxy(this.close,this),t.autoCloseTime)),listener.on("common","sizechange",function(){setTimeout(function(){i.setPos()},1e3)})},close:function(){var t;this._$layer&&(this._$layer.remove(),this._$layer=null),this._$el&&(this._$el.remove(),this._$el=null,$.isFunction(t=this._options.onClose)&&t.call(this),this._autoCloseTimeout=null)},setPos:function(){if(this._$el){var t=this._$el.offset(),i=(window.innerWidth-t.width)/2,e=(window.innerHeight-t.height)/2+window.scrollY;this._$el.css({left:i,top:e})}}}});