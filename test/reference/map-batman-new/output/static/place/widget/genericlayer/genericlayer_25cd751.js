define("place:widget/genericlayer/genericlayer.js",function(t,e,o){function i(t){a.TileLayer.call(this,t),this._opts={},t=t||{},this._opts=$.extend(this._opts,t)}var a=t("common:widget/api/api.js"),n=t("common:widget/geolocation/location.js");i.prototype=new a.TileLayer,i.prototype.initialize=function(t,e){a.TileLayer.prototype.initialize.call(this,t,e),this._map=t},i.prototype.getTilesUrl=function(t,e){var o=this,i=t.y,a=t.x,s=["http://gss0.map.baidu.com","http://gss1.map.baidu.com","http://gss2.map.baidu.com","http://gss3.map.baidu.com"],p=Math.abs(a+i)%s.length,r=s[p]+"/?qt=bkg_png&c="+n.getCityCode()+"&ie=utf-8";r+=window.placeParam?"&wd="+encodeURIComponent(o._opts.json.result.return_query)+window.placeParam:"&wd="+encodeURIComponent(o._opts.json.result.return_query),r+="&rn=4",this._map.highResolutionEnabled()&&(r+="&imgtype=hdpi"),n.hasExactPoi()&&(r+="&center_rank=1",r+="&nb_x="+n.getPointX(),r+="&nb_y="+n.getPointY());var l=this._map.getBounds(),c=l.getSouthWest().lng,g=l.getSouthWest().lat,h=l.getNorthEast().lng,m=l.getNorthEast().lat,u=escape("(")+c+","+g+";"+h+","+m+escape(")");return r+="&l="+e+"&xy="+a+"_"+i+"&b="+u+"&t="+(new Date).getTime()},i._className_="MDLayer",o.exports=i});