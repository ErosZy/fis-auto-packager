define("place:widget/hotelextcomment/hotelextcomment.js",function(t,o,e){var n=t("common:widget/stat/stat.js"),i=t("common:widget/url/url.js");e.exports={init:function(){this.commentCfg={perCount:5,loadCount:0,totalCount:$(".detail-comlist dt").size(),maxCount:25},this.bindEvent()},bindEvent:function(){$("#detail-loadcomment").on("click",$.proxy(this._showMoreCmts,this)),$("#detail-commore").on("click",$.proxy(this._gotoMoreComment,this))},_showMoreCmts:function(){var t,o=this,e=o.commentCfg;e.loadCount++,$.each([".detail-comlist dt",".detail-comlist dd"],function(t,o){$(o).slice(e.perCount*e.loadCount,e.perCount*(e.loadCount+1)).show()}),(e.loadCount+1)*e.perCount>=e.totalCount&&($("#detail-loadcomment").off().remove(),document.body.clientLeft,(t=$("#detail-commore"))&&t.show()),n.addStat(STAT_CODE.PLACE_HOTEL_DETAIL_SHOWCOMMENT_CLICK)},_gotoMoreComment:function(t){var o=$(t.currentTarget).data("href");i.navigate(this._filter(o))},_filter:function(t){return t.replace(/cmark=1&?/i,"")}}});