define("common:widget/pagemgr/pagemgr.js",function(e,n,t){var i=(window._isPushState,0),a=0,r=1,o={switchstart:1,pagearrived:2,switchend:3,pageloaded:4},g=["landing","quickling","fromcache"],c="landing",s=[],d=function(){var e,n=document.referrer,t=/^.*?\/\/(.*?)(\/|\?|\#|$)/i,i=n.match(t);return i&&(e=i[1]),e},p=function(){return _isPushState?0===i:window.location.host!==d()},u=function(){return _isPushState},f=function(){return c},h=function(e){g[e]&&(c=g[e])},l=function(){return _isPushState?!0:window.location.host===d()},m=function(e){return o[e]?(("switchstart"===e||r===o.pageloaded)&&a++,r=o[e],a):void 0},w=function(){appPage.on("onpagerenderstart",function(e){var n=e||{};n.eid=m("switchstart"),listener.trigger("common.page","switchstart",n)}),appPage.on("onpagearrived",function(e){var n=e||{};n.eid=m("pagearrived"),h(e.initiator),listener.trigger("common.page","pagearrived",n)}),appPage.on("onpagerendercomplete",function(e){var n=e||{};n.eid=m("switchend"),i++,v(),listener.trigger("common.page","switchend",n)}),appPage.on("onpageloaded",function(e){var n=e||{};n.eid=m("pageloaded"),listener.trigger("common.page","pageloaded",n)})},v=function(){$.each(s,function(e,n){n()}),s=[]},P=function(e){$.isFunction(e)&&s.push(e)},S=function(){w()};t.exports={init:S,getInitiator:f,registerDestory:P,isLandingPage:p,isSinglePageApp:u,isAppNavigate:l}});