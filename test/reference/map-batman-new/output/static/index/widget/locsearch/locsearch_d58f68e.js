define("index:widget/locsearch/locsearch.js",function(e,t,a){var r,n=e("common:widget/geolocation/location.js"),o=e("common:widget/url/url.js"),i="输入城市或者其他位置";a.exports.init=function(){r=$(".index-widget-locsearch"),c()};var c=function(){var e=$("#search-input"),t=r.find("#search-button"),a=r.find("form");e.on("focus",$.proxy(u,this)),e.on("blur",l),e.on("foucs",u),t.on("click",f),a.on("submit",f)},u=function(e){var t=$(e.target);t.val()===i&&(t.val(""),t.removeClass("ipt"))},l=function(e){var t=$(e.target);""===$.trim(t.val())&&(t.val(i),t.addClass("ipt"))},s=function(e){var t={qt:"s",wd:$.trim(e),c:n.getCityCode()};return t},f=function(e){var t=$("#search-input"),a=t.val(),r=s(a),n=o.get().pageState||{};o.update({module:"place",action:"selectpoint",query:r,pageState:{refer_pagestate:n.refer_pagestate,refer_query:n.refer_query}},{queryReplace:!0,pageStateReplace:!0}),e.preventDefault()}});