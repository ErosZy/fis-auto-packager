define("common:widget/nav/nav.js",function(o,t,a){var e=o("common:widget/url/url.js"),i=o("common:widget/map/preloader/preloader.js"),n=o("common:widget/pagemgr/pagemgr.js"),r=!1,c=function(){$(".common-widget-nav [jsaction]").on("click",$.proxy(function(o){var t=$(o.currentTarget);switch(t.attr("jsaction")){case"jump":m();break;case"tomap":i.loadTiles("mapclick");var a=e.get({path:t.attr("link"),disableEncode:!0});e.update(a)}},this))},d="_lastPageUrl",w=function(){var o=window.localStorage.getItem(d);"string"==typeof o?(window.localStorage.removeItem(d),e.navigate(o,{replace:!0,storageKey:!1})):history.back()},m=function(){n.isLandingPage()&&"aladdin"!==window._APP_HASH.third_party?"third"!==window._APP_HASH.module||"transit"!==window._APP_HASH.action&&"weather"!==window._APP_HASH.action&&"traffic"!==window._APP_HASH.action?(window.localStorage.removeItem(d),e.toIndex()):(window.localStorage.removeItem(d),history.back()):r===!0?w():(window.localStorage.removeItem(d),history.back())},l=function(o){r=!!o,c()};a.exports.init=l});